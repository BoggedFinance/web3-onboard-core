'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

var globalAppender = require('./global-appender.cjs');

const createLogger = (tag) => {
    let myAppender = (message) => { globalAppender.globalAppender && globalAppender.globalAppender(message); };
    const loggerInstance = Object.assign(function log(message, loglevel = 1 /* info */, context) {
        myAppender && myAppender({
            action: 3 /* log */,
            message,
            loglevel,
            tag,
            context
        });
    }, {
        appender(appender) {
            if (appender !== undefined) {
                myAppender = appender;
            }
            return myAppender;
        }
    });
    return loggerInstance;
};

exports.createLogger = createLogger;
