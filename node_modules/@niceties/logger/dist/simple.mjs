import { globalAppender } from './global-appender.mjs';

const createLogger = (tag) => {
    let myAppender = (message) => { globalAppender && globalAppender(message); };
    const loggerInstance = Object.assign(function log(message, loglevel = 1 /* info */, context) {
        myAppender && myAppender({
            action: 3 /* log */,
            message,
            loglevel,
            tag,
            context
        });
    }, {
        appender(appender) {
            if (appender !== undefined) {
                myAppender = appender;
            }
            return myAppender;
        }
    });
    return loggerInstance;
};

export { createLogger };
